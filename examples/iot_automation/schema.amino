# IoT Smart Home Automation Schema

struct sensor_data {
    device_id: Str,
    temperature: Float,
    humidity: Float,
    light_level: Int,
    motion_detected: Bool,
    air_quality_index: Int,
    timestamp: Str
}

struct device_state {
    device_id: Str,
    device_type: Str,  # "thermostat", "lights", "security", "fan", "blinds"
    is_online: Bool,
    current_setting: Float,
    power_consumption: Float,
    last_updated: Str
}

struct home_context {
    occupancy_status: Str,  # "home", "away", "sleep"
    security_mode: Str,     # "armed", "disarmed", "night"
    time_of_day: Str,       # "morning", "day", "evening", "night"
    season: Str,            # "spring", "summer", "fall", "winter"
    energy_saving_mode: Bool
}

struct user_preferences {
    preferred_temp_home: Float,
    preferred_temp_away: Float,
    preferred_temp_sleep: Float,
    auto_lights: Bool,
    energy_conscious: Bool,
    notification_threshold_temp: Float
}

# Utility functions for IoT logic  
time_in_range: (current_time: Str, start: Str, end: Str) -> Bool
calculate_energy_cost: (power_kw: Float, hours: Float) -> Float
get_weather_forecast: (location: Str) -> Str  # Returns "sunny", "rainy", "cloudy"
send_notification: (user_id: Str, message: Str) -> Bool
get_average_consumption: (device_id: Str, days: Int) -> Float
temp_above_preferred: (current_temp: Float, preferred_temp: Float, threshold: Float) -> Bool
power_above_threshold: (current_power: Float, average_power: Float, multiplier: Float) -> Bool